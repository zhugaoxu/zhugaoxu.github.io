{"version":3,"sources":["pages/testOne/pages/page2.tsx"],"names":["connect","state","dispatch","useState","useEffect","a","immutable","fromJS","name","obj","love","age","array","console","log","set","toJS","setIn","delete","deleteIn","update","x","updateIn","get","getIn","media","uploadFn","param","validateFn","file","isLt2M","size","error","controls"],"mappings":"kNAsHeA,6BACb,SAACC,GACC,MAAO,CACLA,YAGJ,SAACC,GACC,MAAO,KAPIF,EA3GC,WAAO,IAAD,EACMG,mBAAS,GADf,6BA2CpB,OA1BAC,qBAAW,WACT,IAAMC,EAAEC,IAAUC,OAAQ,CACxBF,EAAE,EACFG,KAAK,SACLC,IAAI,CACFD,KAAK,SACLE,KAAK,SACLC,IAAI,IAENC,MAAM,CAAC,EAAE,EAAE,EAAE,GAAG,KAElBC,QAAQC,IAAKT,EAAEU,IAAI,IAAI,KAAMC,QAC7BH,QAAQC,IAAKT,EAAEY,MAAO,CAAC,MAAM,UAAU,sBAAQD,QAC/CH,QAAQC,IAAKT,EAAEa,OAAO,KAAMF,QAC5BH,QAAQC,IAAKT,EAAEc,SAAU,CAAC,MAAM,SAAUH,QAC1CH,QAAQC,IAAKT,EAAEe,OAAO,KAAI,SAACC,GAAD,OAAc,KAAIL,QAC5CH,QAAQC,IAAKT,EAAEiB,SAAU,CAAC,MAAM,SAAQ,SAACD,GAAD,MAAc,kBAAOL,QAC7DH,QAAQC,IAAKT,EAAEkB,IAAI,SACnBV,QAAQC,IAAKT,EAAEmB,MAAO,CAAC,MAAM,UAE7BX,QAAQC,IAAIT,EAAEW,WAOd,6BACE,+HAEA,6BACE,kBAAC,IAAD,CACES,MAAO,CAILC,SAlDS,SAACC,GAClBd,QAAQC,IAAIa,IAmDJC,WAjDW,SAACC,GACpB,IAAMC,EAASD,EAAKE,KAAO,KAAO,KAAO,EAIzC,OAHKD,GACH,IAAQE,MAAM,gDAETF,IA8CDG,SAAU,CACR,OACA,OACA,YACA,YACA,cACA,cACA,iBACA,YACA,aACA,OACA,SACA,YACA,iBACA,YACA,cACA,YACA,gBACA,QACA,YACA,cACA,aACA,YACA,WACA,UACA,UACA,aACA,OACA,YACA,OACA,YACA,KACA,YACA,QACA,YACA,QACA","file":"static/js/22.461af131.chunk.js","sourcesContent":["import React, { useState,useEffect } from \"react\";\r\nimport { connect } from \"dva\";\r\n\r\n// 引入编辑器相关文件\r\nimport BraftEditor, { EditorState } from \"braft-editor\";\r\nimport \"braft-editor/dist/index.css\";\r\nimport { message } from \"antd\";\r\nimport  immutable from 'immutable';\r\n\r\n// https://www.jianshu.com/p/acb0fc96b259   这是参考的网址   使用这个富文本编辑器\r\n\r\nconst Example = () => {\r\n  const [count, setCount] = useState(0);\r\n\r\n  const myUploadFn = (param: any) => {\r\n    console.log(param);\r\n  };\r\n  const myValidateFn = (file: any) => {\r\n    const isLt2M = file.size / 1024 / 1024 < 2;\r\n    if (!isLt2M) {\r\n      message.error(\"图片最大不超过2M\");\r\n    }\r\n    return isLt2M;\r\n  };\r\n\r\n  // 测试使用 useEffect和 immutable （数据不可变，相当于调用前深复制了一次）\r\n\r\n  // 感觉immutable使用在 需要处理的对象上，基础类型用不到  复杂类型的处理先\r\n  useEffect( ()=>{\r\n    const a=immutable.fromJS( {\r\n      a:1,\r\n      name:'lanlan',\r\n      obj:{\r\n        name:'fenfen',\r\n        love:'zhuzhu',\r\n        age:18\r\n      },\r\n      array:[1,2,3,45,6]\r\n    } )\r\n    console.log( a.set(\"b\",520 ).toJS() );\r\n    console.log( a.setIn( [\"obj\",\"lanlan\"],'李兰兰' ).toJS() )\r\n    console.log( a.delete(\"a\" ).toJS() );\r\n    console.log( a.deleteIn( [\"obj\",\"love\"] ).toJS() )\r\n    console.log( a.update(\"a\",(x:Number)=>x=3 ).toJS() );\r\n    console.log( a.updateIn( [\"obj\",\"love\"],(x:String)=>x='王凡' ).toJS() )\r\n    console.log( a.get(\"name\") );\r\n    console.log( a.getIn( [\"obj\",\"name\"]) )\r\n    // a.toJS().name='suixin';\r\n    console.log(a.toJS())\r\n   \r\n    \r\n  } )\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <p>这是验证编辑器是否可以使用的界面</p>\r\n\r\n      <div>\r\n        <BraftEditor\r\n          media={{\r\n            // image: true,\r\n            // video: false,\r\n            // audio: false,\r\n            uploadFn: myUploadFn,\r\n            // accepts: accepts,\r\n            validateFn: myValidateFn\r\n          }}\r\n          controls={[\r\n            \"undo\",\r\n            \"redo\",\r\n            \"separator\",\r\n            \"font-size\",\r\n            \"font-family\",\r\n            \"line-height\",\r\n            \"letter-spacing\",\r\n            \"separator\",\r\n            \"text-color\",\r\n            \"bold\",\r\n            \"italic\",\r\n            \"underline\",\r\n            \"strike-through\",\r\n            \"separator\",\r\n            \"superscript\",\r\n            \"subscript\",\r\n            \"remove-styles\",\r\n            \"emoji\",\r\n            \"separator\",\r\n            \"text-indent\",\r\n            \"text-align\",\r\n            \"separator\",\r\n            \"headings\",\r\n            \"list-ul\",\r\n            \"list-ol\",\r\n            \"blockquote\",\r\n            \"code\",\r\n            \"separator\",\r\n            \"link\",\r\n            \"separator\",\r\n            \"hr\",\r\n            \"separator\",\r\n            \"media\",\r\n            \"separator\",\r\n            \"clear\",\r\n            \"fullscreen\"\r\n          ]}\r\n          // className={styles.brafteditorborder}\r\n          // value={editorState}\r\n          // onChange={this.handleEditorChange}\r\n          //onSave={this.submitContent}\r\n        />\r\n      </div>\r\n\r\n      \r\n\r\n    </div>\r\n  );\r\n};\r\nexport default connect(\r\n  (state: any) => {\r\n    return {\r\n      state\r\n    };\r\n  },\r\n  (dispatch: any) => {\r\n    return {};\r\n  }\r\n)(Example);\r\n"],"sourceRoot":""}