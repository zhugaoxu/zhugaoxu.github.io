{"version":3,"sources":["pages/components/sortTable/component/index.tsx","pages/components/sortTable/component/aroom.js","pages/components/sortTable/index.tsx","pages/testOne/pages/test.tsx","pages/testOne/pages/page3.tsx"],"names":["SortableItem","SortableElement","value","name","SortableList","SortableContainer","items","map","index","key","SortableComponent","state","props","children","onSortEnd","oldIndex","newIndex","that","setState","arrayMove","onChildChange","console","log","this","Component","renks","id","collection","a","JSON","parse","stringify","pa","splice","changeItem","e","allitems","filter","item","allname","onSortMove","Counter","connect","dispatch","useState","count","setCount","age","orderNum","sort","imgUrl","setItems","useEffect","onClick","newItems"],"mappings":"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","file":"static/js/23.5bc5601e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport { SortableContainer, SortableElement } from \"react-sortable-hoc\";\r\nimport arrayMove from \"array-move\";\r\n\r\nconst SortableItem = SortableElement(({ value }: any) => <li>{value.name}</li>);\r\n\r\nconst SortableList = SortableContainer(({ items }: any) => {\r\n  return (\r\n    <ul>\r\n      {items.map((value: any, index: any) => (\r\n        <SortableItem key={`item-${index}`} index={index} value={value} />\r\n      ))}\r\n    </ul>\r\n  );\r\n});\r\n\r\nclass SortableComponent extends Component<any> {\r\n  componentDidMount() {\r\n    console.log(this.props);\r\n    console.log(\"猪猪看向天空\");\r\n  }\r\n  state = {\r\n    items: this.props.children\r\n  };\r\n  onSortEnd = ({ oldIndex, newIndex }: any) => {\r\n    const that = this;\r\n    this.setState(\r\n      ({ items }: any) => ({\r\n        items: arrayMove(items, oldIndex, newIndex)\r\n      }),\r\n      () => {\r\n        that.props.onChildChange(that.state.items);\r\n      }\r\n    );\r\n  };\r\n  render() {\r\n    console.log(this.state.items);\r\n    return <SortableList items={this.state.items} onSortEnd={this.onSortEnd} />;\r\n  }\r\n}\r\n\r\nexport default SortableComponent;\r\n","import React from \"react\";\r\n\r\nimport Apge from \"./index\";\r\n\r\nconst SortableItem = props => {\r\n  return (\r\n    <div>\r\n      <Apge onChildChange={props.onChildChange} children={props.children} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SortableItem;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { SortableContainer, SortableElement } from \"react-sortable-hoc\";\r\nimport arrayMove from \"array-move\";\r\nimport SortableComponentss from \"./component\";\r\nimport { runInThisContext } from \"vm\";\r\n\r\nimport Apage from \"./component/aroom\";\r\n\r\nconst SortableItem = SortableElement(({ value, onChildChange }: any) => {\r\n  console.log(value);\r\n  console.log(\"sssssss\");\r\n  return (\r\n    <li>\r\n      <p>{value.name}</p>\r\n      <div>\r\n        <Apage onChildChange={onChildChange} children={value.renks} />\r\n        {/* <SortableComponentss children={value.renks} /> */}\r\n      </div>\r\n    </li>\r\n  );\r\n});\r\n\r\nconst SortableList = SortableContainer(({ items, onChildChange }: any) => {\r\n  console.log(\"lamnad\");\r\n  return (\r\n    <ul>\r\n      {items.map((value: any, index: any) => (\r\n        <SortableItem\r\n          key={`itemd-${value.id}`}\r\n          index={index}\r\n          value={value}\r\n          onChildChange={onChildChange}\r\n        ></SortableItem>\r\n      ))}\r\n    </ul>\r\n  );\r\n});\r\n\r\nclass SortableComponent extends Component<any> {\r\n  componentDidMount() {}\r\n  state = {};\r\n  onSortEnd = ({ oldIndex, newIndex, collection }: any) => {\r\n    console.log(collection);\r\n    let a = JSON.parse(JSON.stringify(this.props.items));\r\n    const pa = JSON.stringify(a[oldIndex]);\r\n    a.splice(oldIndex, 1);\r\n    a.splice(newIndex, 0, JSON.parse(pa));\r\n    this.props.changeItem(a);\r\n  };\r\n\r\n  onChildChange = (e: any) => {\r\n    const allitems = JSON.parse(JSON.stringify(this.props.items));\r\n    allitems.filter((item: any) => {\r\n      if (item.name === e[0].allname) {\r\n        item.renks = e;\r\n      }\r\n      return item;\r\n    });\r\n    this.props.changeItem(allitems);\r\n  };\r\n\r\n  render() {\r\n    console.log(this.props.items);\r\n    return (\r\n      <SortableList\r\n        onSortMove={false}\r\n        items={this.props.items}\r\n        onSortEnd={this.onSortEnd}\r\n        onChildChange={this.onChildChange}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default SortableComponent;\r\n","import React from \"react\";\r\n\r\n\r\nexport interface Iprops {\r\n    value: number\r\n}\r\n\r\n// 使用接口代替 PropTypes 进行类型校验\r\nconst Counter = (props: Iprops) => {\r\n    return <p>Clicked: { props.value } times</p>\r\n}\r\n\r\nexport default Counter;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"dva\";\r\nimport SortTablePage from \"../../components/sortTable\";\r\nimport PropsState from \"./state\";\r\nimport TestPage from './test';\r\n\r\ninterface AA{\r\n  state:Number\r\n}\r\n\r\nconst Example = (props:false) => {\r\n  const [count, setCount] = useState(0);\r\n  const [items, setItems] = useState([\r\n    {\r\n      name: \"总榜\",\r\n      id: 1,\r\n      renks: [\r\n        {\r\n          name: \"test1\",\r\n          age: 18,\r\n          orderNum: 10000,\r\n          sort: 1,\r\n          allname: \"总榜\",\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687207&di=ae6e2f87d2f103c26818a84fb0cefb49&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130708%2F20130708163102-895864892.jpg\"\r\n        },\r\n        {\r\n          name: \"test2\",\r\n          age: 18,\r\n          orderNum: 1000,\r\n          sort: 2,\r\n          allname: \"总榜\",\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687206&di=ec71b95b5704d1d0b6df1c6f0f85ecab&imgtype=0&src=http%3A%2F%2Fn.sinaimg.cn%2Fsinacn12%2F738%2Fw500h238%2F20180630%2F884c-hespqrx3942126.jpg\"\r\n        },\r\n        {\r\n          name: \"test3\",\r\n          age: 18,\r\n          orderNum: 100,\r\n          sort: 3,\r\n          allname: \"总榜\",\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687156&di=190c10c9fc64ec6a447e4da0bf0ae4bc&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130814%2F20130814155022-195460071.jpg\"\r\n        },\r\n        {\r\n          name: \"test1\",\r\n          age: 18,\r\n          orderNum: 10000,\r\n          sort: 4,\r\n          allname: \"总榜\",\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687207&di=ae6e2f87d2f103c26818a84fb0cefb49&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130708%2F20130708163102-895864892.jpg\"\r\n        },\r\n        {\r\n          name: \"test2\",\r\n          age: 18,\r\n          orderNum: 1000,\r\n          sort: 5,\r\n          allname: \"总榜\",\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687206&di=ec71b95b5704d1d0b6df1c6f0f85ecab&imgtype=0&src=http%3A%2F%2Fn.sinaimg.cn%2Fsinacn12%2F738%2Fw500h238%2F20180630%2F884c-hespqrx3942126.jpg\"\r\n        },\r\n        {\r\n          name: \"test3\",\r\n          age: 18,\r\n          orderNum: 100,\r\n          allname: \"总榜\",\r\n          sort: 6,\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687156&di=190c10c9fc64ec6a447e4da0bf0ae4bc&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130814%2F20130814155022-195460071.jpg\"\r\n        },\r\n        {\r\n          name: \"test1\",\r\n          age: 18,\r\n          orderNum: 10000,\r\n          allname: \"总榜\",\r\n          sort: 7,\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687207&di=ae6e2f87d2f103c26818a84fb0cefb49&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130708%2F20130708163102-895864892.jpg\"\r\n        },\r\n        {\r\n          name: \"test2\",\r\n          age: 18,\r\n          orderNum: 1000,\r\n          allname: \"总榜\",\r\n          sort: 8,\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687206&di=ec71b95b5704d1d0b6df1c6f0f85ecab&imgtype=0&src=http%3A%2F%2Fn.sinaimg.cn%2Fsinacn12%2F738%2Fw500h238%2F20180630%2F884c-hespqrx3942126.jpg\"\r\n        },\r\n        {\r\n          name: \"test3\",\r\n          age: 18,\r\n          orderNum: 100,\r\n          allname: \"总榜\",\r\n          sort: 9,\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687156&di=190c10c9fc64ec6a447e4da0bf0ae4bc&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130814%2F20130814155022-195460071.jpg\"\r\n        },\r\n        {\r\n          name: \"test3\",\r\n          age: 18,\r\n          orderNum: 100,\r\n          sort: 10,\r\n          allname: \"总榜\",\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687156&di=190c10c9fc64ec6a447e4da0bf0ae4bc&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130814%2F20130814155022-195460071.jpg\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: \"周榜\",\r\n      id: 2,\r\n      renks: [\r\n        {\r\n          name: \"test1\",\r\n          age: 18,\r\n          orderNum: 40000,\r\n          allname: \"周榜\",\r\n          sort: 1,\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687156&di=190c10c9fc64ec6a447e4da0bf0ae4bc&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130814%2F20130814155022-195460071.jpg\"\r\n        },\r\n        {\r\n          name: \"test2\",\r\n          age: 18,\r\n          orderNum: 4000,\r\n          allname: \"周榜\",\r\n          sort: 2,\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687206&di=ec71b95b5704d1d0b6df1c6f0f85ecab&imgtype=0&src=http%3A%2F%2Fn.sinaimg.cn%2Fsinacn12%2F738%2Fw500h238%2F20180630%2F884c-hespqrx3942126.jpg\"\r\n        },\r\n        {\r\n          name: \"test3\",\r\n          age: 18,\r\n          allname: \"周榜\",\r\n          orderNum: 400,\r\n          sort: 3,\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687207&di=ae6e2f87d2f103c26818a84fb0cefb49&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130708%2F20130708163102-895864892.jpg\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: \"班级榜\",\r\n      id: 3,\r\n      renks: [\r\n        {\r\n          name: \"test1\",\r\n          age: 18,\r\n          orderNum: 20000,\r\n          sort: 1,\r\n          allname: \"班级榜\",\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687207&di=ae6e2f87d2f103c26818a84fb0cefb49&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130708%2F20130708163102-895864892.jpg\"\r\n        },\r\n        {\r\n          name: \"test2\",\r\n          age: 18,\r\n          orderNum: 2000,\r\n          sort: 2,\r\n          allname: \"班级榜\",\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687207&di=ae6e2f87d2f103c26818a84fb0cefb49&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130708%2F20130708163102-895864892.jpg\"\r\n        },\r\n        {\r\n          name: \"test3\",\r\n          age: 18,\r\n          orderNum: 200,\r\n          allname: \"班级榜\",\r\n          sort: 3,\r\n          imgUrl:\r\n            \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575103687207&di=ae6e2f87d2f103c26818a84fb0cefb49&imgtype=0&src=http%3A%2F%2Fpic.baike.soso.com%2Fp%2F20130708%2F20130708163102-895864892.jpg\"\r\n        }\r\n      ]\r\n    }\r\n  ]);\r\n\r\n  interface MM {\r\n    name: string;\r\n    age: number;\r\n    orderNum: number;\r\n    sort: number;\r\n    allname: string;\r\n    imgUrl: string;\r\n  }\r\n  interface Name {\r\n    name: string;\r\n    id: number;\r\n    renks: Array<MM>;\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(props);\r\n    console.log(\"抬头能够看到的天空\");\r\n  });\r\n\r\n  const changeItems = (newItems: Array<Name>) => {\r\n    console.log(newItems);\r\n    console.log(\"lamnlam\");\r\n    setItems(newItems);\r\n  };\r\n  const changeCount=(item:number)=>{\r\n      setCount(item)\r\n\r\n  }\r\n  return (\r\n    <div>\r\n      <p>You clicked {count} times</p>\r\n      <button onClick={() => changeCount(count+1)}>Click me</button>\r\n      <br />\r\n      <SortTablePage changeItem={changeItems} items={items} />\r\n      <TestPage value={ 0 } />\r\n    </div>\r\n  );\r\n};\r\nexport default connect(\r\n  (state: AA) => {\r\n    return {\r\n      state:state\r\n    };\r\n  },\r\n  (dispatch: void) => {\r\n    return {};\r\n  }\r\n)(Example);\r\n"],"sourceRoot":""}